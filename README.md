## Подготовка окружения

1. Создайте виртуальное окружение

```shell
python -m venv .venv
source .venv/bin/activate #Linux
.venv\bin\activate.bat #Windows
```

## Настройка системы

1. В файле `dgsp/functions.py` замените `transition` и `observation` на необходимые функции изменения состояния и наблюдений. Далее указать матрицы шумов `Q` и `R`. Указать `initial` - матожидание начала траектории.
2. В файле `scripts/__init__.py` в переменной `ESTIMATORS` указать все нужные фильтры. Фильтры называются как у Борисова в документе, маленькими буквами. Если требуется корневая реализация, добавить в конце r.
3. В том же файле укажите дельты по времени (dt\_\*) и максимальное время (T_MAX).
4. Указать необходимое число траекторий в переменной `NUM_TRAJECTORIES`.
5. Также для статистики: в задании есть пункт с указанием процента расходящихся траекторий. Чаще всего тректории расходятся в одном моменте времени (обычно в самом начале) и дальше сходсятся. В том же файле можно выбрать компоненты по которым следует проверять сходимость/расходимость и процент точек по которым проводится проверка.

## Запуск

Можно запустить скрипт полного решения - ```make```

Если хочется запускать этапы по одному

1. Запустить генерацию командой `make generate`.
2. Запустить оценку командой `make estimate`.
3. Запустить сбор статистики и отрисовку графиков командой `make stats`.
4. Запустить генерацию LaTeX-шаблона для отчёта командой `make tex` (в разработке).

После выполнения этих шагов в папке ```stats``` будут лежать все необходимые для отчёта таблицы, а в папке ```img``` - все графики. Когда я допишу генерацию теха, в папке ```report``` будет лежать сгенерированный шаблон, куда останется вписать только описание статьи и выводы, пока что это придётся делать руками.

Полный запуск программы теперь может производиться на любых мощностях. При запуске на 16-поточном ЦПУ при частоте 2.2 ГГц на ноутбуке время работы составляет около 9 минут. Возможность запуска фильтров Монте-Карло на ГПУ пока является экспериментальной и не рекомендуется к использованию, решение на ЦПУ остаётся лидирующим по скорости.

## Участие в разработке

Этот проект создавался чтобы облегчить довольно болезненную сдачу ДГСП, любое участие всячески приветствуется. Для внесения изменений рекомендуется создавать свои ветки и кидать pull request либо форкать проект и делать под себя. Если найдёте баг, пишите в тг @i3alumba. Если можете помочь с фиксом, буду крайне благодарен.
